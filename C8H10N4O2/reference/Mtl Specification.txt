MTLマテリアルフォーマット（Lightwave、OBJ）

ファイル形式、バージョン4.2からの抜粋
1995年10月
作成者：Diane Ramey、Linda Rose、およびLisa Tyerman
Copyright 1995 Alias | Wavefront、Inc。
全著作権所有
 
5.マテリアルライブラリファイル（.mtl）
 
 マテリアルライブラリファイルには、それぞれ1つ以上のマテリアル定義が含まれています
個人の色、テクスチャ、反射マップが含まれています
材料。これらは、オブジェクトのサーフェスと頂点に適用されます。
マテリアルファイルはASCII形式で保存され、拡張子は.mtlです。
 
 .mtlファイルは、他のAlias | Wavefrontプロパティファイルとは異なります。
光と大気のファイル。複数のファイルを含めることができます。
材料定義（他のファイルには1つの定義のみが含まれています
項目）。
 
 .mtlファイルは通常、以下に示すように編成されます。
 
 
 newmtl my_red
 素材の色
 ＆ イルミネーション
 ステートメント
 
 テクスチャマップ
 ステートメント
 
 反射マップ
 ステートメント
 
 newmtl my_blue
 素材の色
 ＆ イルミネーション
 ステートメント
 
 テクスチャマップ
 ステートメント
 
 反射マップ
 ステートメント
 
 newmtl my_green
 素材の色
 ＆ イルミネーション
 ステートメント
 
 テクスチャマップ
 ステートメント
 
 反射マップ
 ステートメント
 
 図5-1。 .mtlファイルの典型的な構成
 
 
 .mtlファイルの各材料記述は、newmtlで構成されます
材料に名前を割り当て、開始を指定するステートメント
材料の説明の。このステートメントの後に資料が続きます
を説明する色、テクスチャマップ、および反射マップステートメント
材料。 .mtlファイルマップには多くの異なる資料が含まれています
説明。
 
 「newmtl」ステートメントで新しいマテリアルを指定すると、次のことができます。
資料を説明するステートメントを任意の順序で入力します。しかしながら、
プロパティエディタが.mtlファイルを書き込むと、ステートメントが次のように配置されます。
システムによって割り当てられた注文。この章では、ステートメントについて説明します
システムによって割り当てられた順序で。
 
 
 フォーマット
 
 以下は、.mtlの材料定義のサンプル形式です。
ファイル：
 
 材料
 名前
 ステートメント：
 newmtl my_mtl
 
 材料
 色と
 イルミネーション
 ステートメント：
 Ka 0.0435 0.0435 0.0435
 Kd 0.1086 0.1086 0.1086
 Ks 0.0000 0.0000 0.0000
 Tf 0.9885 0.9885 0.9885
 illum 6
 d-ハロ0.6600
 Ns 10.0000
 シャープネス60
 Ni 1.19713
 
 テクスチャ
 地図
 ステートメント：
 map_Ka -s 1 1 1 -o 0 0 0 -mm 0 1 chrome.mpc
 map_Kd -s 1 1 1 -o 0 0 0 -mm 0 1 chrome.mpc
 map_Ks -s 1 1 1 -o 0 0 0 -mm 0 1 chrome.mpc
 map_Ns -s 1 1 1 -o 0 0 0 -mm 0 1 wisp.mps
 map_d -s 1 1 1 -o 0 0 0 -mm 0 1 wisp.mps
 disp -s 1 1 .5 wisp.mps
 デカール-s1 1 1 -o 0 0 0 -mm 0 1 sand.mps
 バンプ-s1 1 1 -o 0 0 0 -bm 1 sand.mpb
 
 反射
 地図
 ステートメント：
 refl-type sphere -mm 0 1 clouds.mpc
 
 
 材料名
 
 材料名ステートメントは、材料の説明に名前を割り当てます。
 
 構文
 次の構文は、材料名ステートメントを説明しています。
 
 newmtl名
 
 材料記述の開始を指定し、に名前を割り当てます
材料。 .mtlファイルには、先頭に1つのnewmtlステートメントが必要です。
各材料の説明。
 
 「名前」は素材の名前です。名前は任意の長さにすることができますが
空白を含めることはできません。材料名にはアンダースコアを使用できます。
 
 
 素材の色と照明
 
 このセクションのステートメントは、色、透明度、および
反射率の値。
 
 構文
 次の構文は、マテリアルの色と照明を説明しています
すべての.mtlファイルに適用されるステートメント。
 
 
 Kar g b
 Kaスペクトルファイル.rfl係数
 Ka xyz x y z
 
 現在の材料の周囲反射率を指定するには、次のことができます。
「Ka」ステートメント、「Kaスペクトル」ステートメント、または「Kaxyz」を使用します
ステートメント。
 
 ヒントこれらのステートメントは相互に排他的です。使用できません
同じ素材で同時に。
 
 Kar g b
 
 Kaステートメントは、RGB値を使用して周囲反射率を指定します。
 
 「rgb」は、の赤、緑、青のコンポーネントの値です。
色。 g引数とb引数はオプションです。 rのみを指定した場合、
その場合、gとbはrに等しいと見なされます。 r gbの値は
通常は0.0から1.0の範囲です。この範囲外の値は増加します
またはそれに応じて反射率を下げます。
 
 Kaスペクトルファイル.rfl係数
 
 「Kaspectrum」ステートメントは、を使用して周囲の反射率を指定します
スペクトル曲線。
 
 「file.rfl」は.rflファイルの名前です。
 「factor」はオプションの引数です。
 「factor」は、.rflファイルの値の乗数であり、デフォルトです。
指定されていない場合は1.0に。
 
 Ka xyz x y z
 
 「Kaxyz」ステートメントは、CIEXYZを使用して周囲反射率を指定します
値。
 
 「xyz」はCIEXYZ色空間の値です。 yとz
引数はオプションです。 xのみが指定されている場合、yとzは
xに等しいと見なされます。 x y z値は通常、次の範囲にあります。
0から1。この範囲外の値は、反射率を増減します。
それに応じて。
 
 
 Kd r g b
 Kdスペクトルファイル.rfl係数
 Kd xyz x y z
 
 指定するには
現在の材料の拡散反射率、あなたはすることができます
「Kd」ステートメント、「Kdスペクトル」ステートメント、または「Kdxyz」を使用します
ステートメント。
 
 ヒントこれらのステートメントは相互に排他的です。使用できません
同じ素材で同時に。
 
 Kd r g b
 
 Kdステートメントは、RGB値を使用して拡散反射率を指定します。
 
 「rgb」は、の赤、緑、青のコンポーネントの値です。
雰囲気。 g引数とb引数はオプションです。 rだけが
指定すると、gとbはrに等しいと見なされます。 r gb値
通常は0.0から1.0の範囲です。この範囲外の値
それに応じて反射率を増減します。
 
 Kdスペクトルファイル.rfl係数
 
 「Kdspectrum」ステートメントは、を使用して拡散反射率を指定します
スペクトル曲線。
 
 「file.rfl」は.rflファイルの名前です。
 「factor」はオプションの引数です。
 「factor」は、.rflファイルの値の乗数であり、デフォルトです。
指定されていない場合は1.0に。
 
 Kd xyz x y z
 
 「Kdxyz」ステートメントは、CIEXYZを使用して拡散反射率を指定します
値。
 
 「xyz」はCIEXYZ色空間の値です。 yとz
引数はオプションです。 xのみが指定されている場合、yとzは
xに等しいと見なされます。 x y z値は通常、次の範囲にあります。
0から1。この範囲外の値は、反射率を増減します。
それに応じて。
 
 
 Ks r g b
 Ksスペクトルファイル.rfl係数
 Ks xyz x y z
 
 現在のマテリアルの鏡面反射率を指定するには、次のことができます。
「Ks」ステートメント、「Ksスペクトル」ステートメント、または「Ksxyz」を使用します
ステートメント。
 
 ヒントこれらのステートメントは相互に排他的です。使用できません
同じ素材で同時に。
 
 Ks r g b
 
 Ksステートメントは、RGB値を使用して鏡面反射率を指定します。
 
 「rgb」は、の赤、緑、青のコンポーネントの値です。
雰囲気。 g引数とb引数はオプションです。 rだけが
指定すると、gとbはrに等しいと見なされます。 r gb値
通常は0.0から1.0の範囲です。この範囲外の値
それに応じて反射率を増減します。
 
 Ksスペクトルファイル.rfl係数
 
 「Ksspectrum」ステートメントは、を使用して鏡面反射率を指定します
スペクトル曲線。
 
 「file.rfl」は.rflファイルの名前です。
 「factor」はオプションの引数です。
 「factor」は、.rflファイルの値の乗数であり、デフォルトです。
指定されていない場合は1.0に。
 
 Ks xyz x y z
 
 「Ksxyz」ステートメントは、CIEXYZを使用して鏡面反射率を指定します
値。
 
 「xyz」はCIEXYZ色空間の値です。 yとz
引数はオプションです。 xのみが指定されている場合、yとzは
xに等しいと見なされます。 x y z値は通常、次の範囲にあります。
0から1。この範囲外の値は、反射率を増減します。
それに応じて。
 
 
 Tf r g b
 Tfスペクトルファイル.rfl係数
 Tf xyz x y z
 
 現在の材料の透過フィルターを指定するには、次を使用できます。
「Tf」ステートメント、「Tfスペクトル」ステートメント、または「Tfxyz」
ステートメント。
 
 オブジェクトを通過するすべての光は、透過によってフィルタリングされます
特定の色のみを通過させるフィルター。にとって
たとえば、Tf 0 1 0は、すべてのグリーンを通過させ、フィルターで除去します。
すべての赤と青。
 
 ヒントこれらのステートメントは相互に排他的です。使用できません
同じ素材で同時に。
 
 Tf r g b
 
 Tfステートメントは、RGB値を使用して透過フィルターを指定します。
 
 「rgb」は、の赤、緑、青のコンポーネントの値です。
雰囲気。 g引数とb引数はオプションです。 rだけが
指定すると、gとbはrに等しいと見なされます。 r gb値
通常は0.0から1.0の範囲です。この範囲外の値
それに応じて反射率を増減します。
 
 Tfスペクトルファイル.rfl係数
 
 「Tfspectrum」ステートメントは、を使用して透過フィルターを指定します。
スペクトル曲線。
 
 「file.rfl」は.rflファイルの名前です。
 「factor」はオプションの引数です。
 「factor」は、.rflファイルの値の乗数であり、デフォルトです。
指定されていない場合は1.0に。
 
 Tf xyz x y z
 
 「Ksxyz」ステートメントは、CIEXYZを使用して鏡面反射率を指定します
値。
 
 「xyz」はCIEXYZ色空間の値です。 yとz
引数はオプションです。 xのみが指定されている場合、yとzは
xに等しいと見なされます。 x y z値は通常、次の範囲にあります。
0から1。この範囲外の値は、
それに応じて光透過率の強度。
 
 
 illum illum_＃
 
 「illum」ステートメントは、で使用する照明モデルを指定します。
材料。照明モデルは、次の式を表す数式です。
さまざまなマテリアルの照明およびシェーディング効果。
 
 「illum_＃」は0から10までの数字にすることができます。照明モデルは次のとおりです。
以下に要約します。完全な説明については、の「照明モデル」を参照してください。
5-30ページ。
 
 でオンになっている照明プロパティ
 モデルプロパティエディタ
 
 0カラーオンとアンビエントオフ
 1色オンとアンビエントオン
 2高点灯
 3リフレクションオンとレイトレースオン
 4透明度：ガラスオン
 反射：レイトレーシング
 5リフレクション：フレネルオンとレイトレースオン
 6透明度：屈折
 反射：フレネルオフとレイトレースオン
 7透明度：屈折
 反射：フレネルオンとレイトレースオン
 8リフレクションオンとレイトレースオフ
 9透明度：ガラスオン
 反射：レイトレースオフ
 10見えない表面に影を落とす
 
 
 dファクター
 
 現在のマテリアルのディゾルブを指定します。
 
 「係数」は、このマテリアルがバックグラウンドに溶解する量です。 A
1.0の因数は完全に不透明です。これは、新しいマテリアルの場合のデフォルトです
創造された。 0.0の因数は完全に溶解します（完全に溶解します）
トランスペアレント）。
 
 実際の透明な素材とは異なり、ディゾルブは依存しません
材料の厚さもスペクトル特性もありません。溶解する
すべての照明モデルで動作します。
 
 d-ハロファクター
 
 ディゾルブがサーフェスの方向に依存することを指定します
視聴者に対して。たとえば、次のような球
溶解、d -halo 0.0は、その中心で完全に溶解し、
エッジに向かって徐々に不透明になります。
 
 「係数」は、材料に適用されるディゾルブの最小量です。
ディゾルブの量は、1.0（完全に不透明）と
指定された「係数」。式は次のとおりです。
 
 ディゾルブ= 1.0-（N * v）（1.0-factor）
 
 用語の定義については、5-30ページの「照明モデル」を参照してください。
 
 
 Ns指数
 
 現在のマテリアルのスペキュラー指数を指定します。これは定義します
鏡面ハイライトの焦点。
 
 「指数」は、スペキュラー指数の値です。高い指数
タイトで集中したハイライトになります。 Ns値は通常範囲
0〜1000。
 
 
 シャープネス値
 
 ローカル反射からの反射のシャープネスを指定します
地図。マテリアルにローカル反射マップが定義されていない場合
マテリアルの定義、シャープネスはグローバル反射マップに適用されます
PreViewで定義されています。
 
 「値」は0〜1000の数値にすることができます。デフォルトは60です。高
値を指定すると、反射マップ内のオブジェクトが明確に反射されます。
 
 ヒント100マップを超えるシャープネス値はエイリアシング効果を導入します
鋭角で見た平らな面で
 
 
 Ni Optical_density
 
 表面の光学密度を指定します。これは、
屈折率。
 
 「optic_density」は、光学濃度の値です。値はできます
範囲は0.001〜10です。値1.0は、光が曲がらないことを意味します。
オブジェクトを通過するとき。光学濃度の増加
曲げの量を増やします。ガラスの屈折率は
約1.5。 1.0未満の値は奇妙な結果を生成し、そうではありません
推奨。
 
 
 マテリアルテクスチャマップ
 
 テクスチャマップステートメントは、サーフェスのマテリアルパラメータを次のように変更します。
画像またはテクスチャファイルを、次のことができるマテリアルパラメータに関連付ける
マップされます。既存のパラメータを置き換えるのではなく変更することにより、
テクスチャマップは、外観を変更する際に大きな柔軟性を提供します
オブジェクトの表面。
 
 画像ファイルとテクスチャファイルは同じ意味で使用できます。使用する場合
画像ファイル、そのファイルはメモリ内のテクスチャに変換され、
レンダリング後に破棄されます。
 
 ヒントテクスチャの代わりに画像を使用すると、ディスク容量とセットアップ時間が節約されます。
ただし、最初に小さな計算コストが発生します
レンダリングします。
 
 テクスチャマップで変更できるマテリアルパラメータは次のとおりです。
 
 -か（色）
 -Kd（色）
 -Ks（カラー）
 -Ns（スカラー）
 --d（スカラー）
 
 材料パラメータに加えて、表面法線は次のようになります。
変更されました。
 
 
 画像ファイルの種類
 
 現在サポートされている任意の画像ファイルタイプをリンクできます。
サポートされている画像ファイルの種類は、の「画像について」の章に記載されています。
「AdvancedVisualizerユーザーズガイド」。 「im_info-」を使用することもできます
とりわけ、画像ファイルタイプを一覧表示する「」コマンド。
 
 
 テクスチャファイルタイプ
 
 使用できるテクスチャファイルの種類は次のとおりです。
 
 -mipマップされたテクスチャファイル（.mpc、.mps、.mpb）
 -コンパイルされたプロシージャルテクスチャファイル（.cxc、.cxs、.cxb）
 
 
 ミップマップされたテクスチャファイル
 
 ミップマップされたテクスチャファイルは、Createを使用して画像から作成されます
Directorまたは「texture2D」プログラムのテクスチャパネル。がある
3種類のテクスチャファイル：
 
 -カラーテクスチャファイル（.mpc）
 -スカラーテクスチャファイル（.mps）
 -バンプテクスチャファイル（.mpb）
 
 カラーテクスチャ。カラーテクスチャファイルは、次の拡張子で指定されます。
ファイル名の「.mpc」（「chrome.mpc」など）。カラーテクスチャは、
次のように材料の色：
 
 -Ka-マテリアルアンビエントにテクスチャ値を掛けます
 -Kd-マテリアルディフューズにテクスチャ値を掛けます
 -Ks-マテリアルスペキュラーにテクスチャ値を掛けます
 
 スカラーテクスチャ。スカラーテクスチャファイルは拡張子で指定されます
ファイル名の「.mps」（「wisp.mps」など）。スカラーテクスチャが変更されます
マテリアルのスカラー値は次のとおりです。
 
 -Ns-材料のスペキュラー指数に、
テクスチャ値
 --d-マテリアルディゾルブにテクスチャ値を掛けます
 -デカール-スカラー値を使用してオブジェクトの表面を次のように変形します
表面粗さを作成します
 
 バンプテクスチャ。バンプテクスチャファイルは、次の拡張子で指定されます。
ファイル名の「.mpb」（「sand.mpb」など）。バンプテクスチャが変更されます
表面法線。バンプテクスチャに使用される画像は、
平均的な表面に対する表面のトポロジーまたは高さ。闇
エリアはくぼみであり、明るいエリアはハイポイントです。効果は
テクスチャで表面をエンボス加工するようなものです。
 
 
 手続き型テクスチャファイル
 
 手続き型テクスチャファイルは、数式を使用してサンプルを計算します
テクスチャの値。手続き型テクスチャファイルはコンパイル、保存され、
レンダリング時にImageプログラムによってアクセスされます。詳細については
第9章「プロシージャルテクスチャファイル（.cxc、.cxb。、および.cxs）」を参照してください。
 
 構文
 
 次の構文は、に適用されるテクスチャマップステートメントを説明しています。
.mtlファイル。これらのステートメントは、単独で使用することも、任意の組み合わせで使用することもできます。
オプションの。オプションとその引数は、
キーワードと「ファイル名」。
 
 map_Ka -optionsargsファイル名
 
 カラーテクスチャファイルまたはカラープロシージャルテクスチャファイルを指定します
材料の周囲反射率に適用されます。中
レンダリングでは、「map_Ka」値に「Ka」値が乗算されます。
 
 「ファイル名」は、カラーテクスチャファイル（.mpc）の名前です。
手続き型テクスチャファイル（.cxc）、または画像ファイル。
 
 ヒントテクスチャが元の外観を維持していることを確認するには、
基礎となるマテリアルとしての.rflファイル「ident」。これはに適用されます
「map_Ka」、「map_Kd」、および「map_Ks」ステートメント。詳細については
.rflファイル。第8章「スペクトル曲線ファイル（.rfl）」を参照してください。
 
 「map_Ka」ステートメントのオプションを以下に示します。これらのオプション
詳細については、ページの「テクスチャマップステートメントのオプション」を参照してください。
5-18。
 
 -blendu on |オフ
 -blendv on |オフ
 -ccオン|オフ
 -クランプオン|オフ
 -mmベースゲイン
 -o u v w
 -s u v w
 -t u v w
 -texres値
 
 
 map_Kd -optionsargsファイル名
 
 カラーテクスチャファイルまたはカラープロシージャルテクスチャファイルが
材料の拡散反射率にリンクされています。レンダリング中、
map_Kd値にKd値を掛けます。
 
 「ファイル名」は、カラーテクスチャファイル（.mpc）の名前です。
手続き型テクスチャファイル（.cxc）、または画像ファイル。
 
 map_Kdステートメントのオプションを以下に示します。これらのオプション
詳細については、ページの「テクスチャマップステートメントのオプション」を参照してください。
5-18。
 
 -blendu on |オフ
 -blendv on |オフ
 -ccオン|オフ
 -クランプオン|オフ
 -mmベースゲイン
 -o u v w
 -s u v w
 -t u v w
 -texres値
 
 
 map_Ks -optionsargsファイル名
 
 カラーテクスチャファイルまたはカラープロシージャルテクスチャファイルが
マテリアルの鏡面反射率にリンクされています。レンダリング中、
map_Ks値にKs値を掛けます。
 
 「ファイル名」は、カラーテクスチャファイル（.mpc）の名前です。
手続き型テクスチャファイル（.cxc）、または画像ファイル。
 
 map_Ksステートメントのオプションを以下に示します。これらのオプション
詳細については、ページの「テクスチャマップステートメントのオプション」を参照してください。
5-18。
 
 -blendu on |オフ
 -blendv on |オフ
 -ccオン|オフ
 -クランプオン|オフ
 -mmベースゲイン
 -o u v w
 -s u v w
 -t u v w
 -texres値
 
 
 map_Ns -optionsargsファイル名
 
 スカラーテクスチャファイルまたはスカラープロシージャルテクスチャファイルを指定します
マテリアルのスペキュラー指数にリンクされています。レンダリング中、
map_Ns値にNs値を掛けます。
 
 「ファイル名」は、スカラーテクスチャファイル（.mps）の名前です。
手続き型テクスチャファイル（.cxs）、または画像ファイル。
 
 map_Nsステートメントのオプションを以下に示します。これらのオプション
詳細については、ページの「テクスチャマップステートメントのオプション」を参照してください。
5-18。
 
 -blendu on |オフ
 -blendv on |オフ
 -クランプオン|オフ
 -imfchan r | g | b | m | l | z
 -mmベースゲイン
 -o u v w
 -s u v w
 -t u v w
 -texres値
 
 
 map_d -optionsargsファイル名
 
 スカラーテクスチャファイルまたはスカラープロシージャルテクスチャファイルを指定します
材料の溶解にリンクされています。レンダリング中、map_d
値にd値を掛けます。
 
 「ファイル名」は、スカラーテクスチャファイル（.mps）の名前です。
手続き型テクスチャファイル（.cxs）、または画像ファイル。
 
 map_dステートメントのオプションを以下に示します。これらのオプション
詳細については、ページの「テクスチャマップステートメントのオプション」を参照してください。
5-18。
 
 -blendu on |オフ
 -blendv on |オフ
 -クランプオン|オフ
 -imfchan r | g | b | m | l | z
 -mmベースゲイン
 -o u v w
 -s u v w
 -t u v w
 -texres値
 
 
 map_aat on
 
 このマテリアルのテクスチャのアンチエイリアシングをアンチエイリアシングなしでオンにします。
シーン内のすべてのテクスチャのエイリアス。
 
 アンチエイリアステクスチャを選択的に使用する場合は、最初にこれを挿入します
材料ファイルのステートメント。次に、画像を使用してレンダリングする場合
パネルで、アンチエイリアス設定を選択します：「シャドウ」、「反射」
ポリゴン」または「ポリゴンのみ」。
コマンドラインからの画像を使用して、
-aaまたは-osオプションを使用します。 -aatオプションは使用しないでください。
 
 画像は、map_aatがオンになっているマテリアルのすべてのテクスチャをアンチエイリアスします
Imageの実行時に選択したオーバーサンプリングレベルを使用したステートメント。
他のマテリアルのテクスチャはオーバーサンプリングされません。
 
 それぞれに異なるオーバーサンプリングレベルを個別に設定することはできません
マテリアル、またはマテリアルの一部のテクスチャをアンチエイリアスすることはできません。
その他。すべてのマテリアルのすべてのテクスチャをアンチエイリアスするには、-aatを使用します
Imageコマンドラインからのオプション。 「map_aaton」のあるマテリアルの場合
反射マップが含まれ、その反射マップ内のすべてのテクスチャは次のようになります。
アンチエイリアスも同様です。
 
 プロパティエディタにmap_aatの効果は表示されません。
 
 ヒント一部の.mpcテクスチャマップは、周囲に望ましくない影響を示します。
スムージングされたオブジェクトのエッジ。 「map_aat」ステートメントはこれを修正します。
 
 
 デカール-optionsargsファイル名
 
 スカラーテクスチャファイルまたはスカラープロシージャルテクスチャを指定します
ファイルは、マテリアルの色をテクスチャに選択的に置き換えるために使用されます
色。
 
 「ファイル名」は、スカラーテクスチャファイル（.mps）の名前です。
手続き型テクスチャファイル（.cxs）、または画像ファイル。
 
 レンダリング中、Ka、Kd、およびKsの値と、map_Ka、map_Kd、および
map_Ks値は、次の式に従ってブレンドされます。
 
 result_color = tex_color（tv）* decal（tv）+ mtl_color *（1.0-decal（tv））
 
 ここで、tvはテクスチャの頂点です。
 
 「result_color」は、Ka、Kd、およびKsの値をブレンドしたものです。
 
 デカールステートメントのオプションを以下に示します。これらのオプション
詳細については、ページの「テクスチャマップステートメントのオプション」を参照してください。
5-18。
 
 -blendu on |オフ
 -blendv on |オフ
 -クランプオン|オフ
 -imfchan r | g | b | m | l | z
 -mmベースゲイン
 -o u v w
 -s u v w
 -t u v w
 -texres値
 
 
 disp -optionsargsファイル名
 
 スカラーテクスチャを使用して表面を変形することを指定します
オブジェクト、表面粗さを作成します。
 
 「ファイル名」は、バンプであるスカラーテクスチャファイル（.mps）の名前です。
手続き型テクスチャファイル（.cxb）、または画像ファイル。
 
 dispステートメントのオプションを以下に示します。これらのオプションは
詳細については、5ページの「テクスチャマップステートメントのオプション」を参照してください。
18.18。
 
 -blendu on |オフ
 -blendv on |オフ
 -クランプオン|オフ
 -imfchan r | g | b | m | l | z
 -mmベースゲイン
 -o u v w
 -s u v w
 -t u v w
 -texres値
 
 
 バンプオプション引数ファイル名
 
 バンプテクスチャファイルまたはバンププロシージャルテクスチャファイルが
資料にリンクされています。
 
 「ファイル名」は、バンププロシージャルであるバンプテクスチャファイル（.mpb）の名前です。
テクスチャファイル（.cxb）、または画像ファイル。
 
 バンプステートメントのオプションを以下に示します。これらのオプションは
詳細については、5ページの「テクスチャマップステートメントのオプション」を参照してください。
18.18。
 
 -bm mult
 -クランプオン|オフ
 -blendu on |オフ
 -blendv on |オフ
 -imfchan r | g | b | m | l | z
 -mmベースゲイン
 -o u v w
 -s u v w
 -t u v w
 -texres値
 
 
 テクスチャマップステートメントのオプション
 
 次のオプションと引数を使用して、テクスチャを変更できます
マップステートメント。
 
 -blenu on |オフ
 
 -blenduオプションは、テクスチャブレンディングを水平方向に回転させます
（u方向）オンまたはオフ。デフォルトはオンです。
 
 -blenv on |オフ
 
 -blendvオプションは、テクスチャブレンディングを垂直方向（v
方向）オンまたはオフ。デフォルトはオンです。
 
 -bm mult
 
 -bmオプションは、バンプ乗数を指定します。でのみ使用できます
「バンプ」ステートメント。テクスチャまたは手続き型で保存された値
テクスチャファイルは、に適用される前にこの値で乗算されます
表面。
 
 「mult」はバンプ乗数の値です。ポジティブまたは
負。極端なバンプ乗数は、奇妙な視覚的結果を引き起こす可能性があります。
表面法線のみが摂動され、表面位置は摂動されません
変化する。最良の結果を得るには、0から1までの値を使用してください。
 
 -ブースト値
 
 -boostオプションは、mip-mappedのシャープネスまたは明瞭さを向上させます
テクスチャファイル-つまり、カラー（.mpc）、スカラー（.mps）、およびバンプ（.mpb）
ファイル。ブーストを使用してアニメーションをレンダリングすると、いくつかの経験があります
テクスチャクロール。でレンダリングすると、ブーストの効果が見られます
ModelまたはPreViewでの画像またはテストレンダリング。彼らはでそれほど目立たない
プロパティエディタ。
 
 「値」は、
透明度の向上;値が大きいほど、
明快さ。 1または2以下のブースト値から開始する必要があります。
必要に応じて値を増やします。値が大きいほど多くなることに注意してください
アニメーション化されたときにテクスチャクロールを導入する可能性。
 
 -ccオン|オフ
 
 -ccオプションは、テクスチャの色補正をオンにします。あなたが使用することができます
これは、カラーマップステートメント（map_Ka、map_Kd、およびmap_Ks）でのみ使用できます。
 
 -クランプオン|オフ
 
 -clampオプションは、クランプをオンまたはオフにします。クランプがオンの場合、
テクスチャは、uvw範囲で0-1に制限されています。デフォルトはオフです。
 
 クランプをオンにすると、テクスチャの1つのコピーがにマッピングされます。
元のteのコピーを繰り返すのではなく、表面全体のxture
デフォルトであるポリゴンの表面。起源の外
テクスチャ、下にある素材は変更されていません。
 
 封筒の切手やスープ缶のラベルは
クランプがオンになっているテクスチャの例。タイル張りの床または
歩道は、クランプがオフになっているテクスチャの例です。
 
 2次元テクスチャはu次元とv次元でクランプされます。 3D
手続き型テクスチャは、u、v、およびw次元でクランプされます。
 
 -imfchan r | g | b | m | l | z
 
 -imfchanオプションは、スカラーまたは
バンプテクスチャ。スカラーテクスチャは以下に適用されます：
 
 透明性
 スペキュラー指数
 デカール
 変位
 
 チャネルの選択肢は次のとおりです。
 
 rは赤チャネルを指定します。
 gは緑のチャネルを指定します。
 bは青チャンネルを指定します。
 mはマットチャネルを指定します。
 lは輝度チャンネルを指定します。
 zはz深度チャネルを指定します。
  
 バンプテクスチャとスカラーテクスチャのデフォルトは「l」（輝度）です。
デカールを作成しています。その場合、デフォルトは「m」（マット）です。
 
 -mmベースゲイン
 
 -mmオプションは、スカラーまたはカラーテクスチャの範囲を変更します
値は異なる場合があります。これはレンダリング中にのみ効果があり、効果はありません
ファイルを変更します。
 
 「base」は、テクスチャ値に基本値を追加します。正の値は
すべてが明るくなります。負の値はすべてを暗くします。ザ・
デフォルトは0です。範囲は無制限です。
 
 「ゲイン」は、テクスチャ値の範囲を拡大します。数を増やす
コントラストを上げます。デフォルトは1です。範囲は無制限です。
 
 -o u v w
 
 -oオプションは、サーフェス上のテクスチャマップの位置を次のようにオフセットします。
マップの原点の位置をシフトします。デフォルトは0、0、0です。
 
 「u」はテクスチャの水平方向の値です
 
 「v」はオプションの引数です。
 「v」は、テクスチャの垂直方向の値です。
 
 「w」はオプションの引数です。
 「w」は、3Dテクスチャの深さに使用される値です。
 
 -s u v w
 
 -sオプションは、テクスチャのテクスチャパターンのサイズをスケーリングします
パターンを拡大または縮小することによって表面。デフォルトは1、1、1です。
 
 「u」はテクスチャの水平方向の値です
 
 「v」はオプションの引数です。
 「v」は、テクスチャの垂直方向の値です。
 
 「w」はオプションの引数です。
 「w」は、3Dテクスチャの深さに使用される値です。
 「w」は、変位のテッセレーション量に使用される値です。
地図。
 
 -t u v w
 
 -tオプションは、テクスチャの乱流をオンにします。に乱流を追加する
指定された方向に沿ったテクスチャは、元の画像に変化を追加します
シンプルな画像をより広い領域で繰り返すことができます。
顕著なタイリング効果。
 
 乱気流を使用すると、2D画像をソリッドテクスチャであるかのように使用することもできます。
大理石や花崗岩のような3D手続き型テクスチャに似ています。
 
 「u」はテクスチャの水平方向の値です
乱気流。
 
 「v」はオプションの引数です。
 「v」は、テクスチャの乱れの垂直方向の値です。
 
 「w」はオプションの引数です。
 「w」は、テクスチャの乱れの深さに使用される値です。
 
 デフォルトでは、マテリアルで使用されるすべてのテクスチャマップの乱流は
uvw =（0,0,0）。これは、乱気流が適用されず、2Dが適用されないことを意味します。
テクスチャは正常に動作します。
 
 乱気流の値をゼロより上に上げた場合にのみ、
乱流の影響。
 
 -texres解像度
 
 -texresオプションは、次の場合に作成されるテクスチャの解像度を指定します。
画像を使用しています。デフォルトのテクスチャサイズは2の最大乗です
元の画像サイズを超えないこと。
 
 ソース画像が正確に2の累乗である場合、テクスチャを構築できません
それより大きい。ソース画像のサイズが正確に2の累乗でない場合は、
テクスチャが2の次の累乗で構築されるように指定できます
ソース画像のサイズよりも。
 
 元の画像は正方形である必要があります。そうでない場合は、次のように拡大縮小されます。
元のサイズより大きくない最も近い正方形のサイズに合わせます。
スケーリングはシャープネスを低下させます。
 
 
 マテリアル反射マップ
 
 反射マップは、反射をシミュレートする環境です。
指定されたオブジェクト。環境はカラーテクスチャで表されます
の内部にマッピングされているファイルまたは手続き型テクスチャファイル
無限に大きいスペース。反射マップは球形または立方体にすることができます。 A
球面反射マップに必要なテクスチャまたは画像ファイルは1つだけですが、
立方反射マップには6つ必要です。
 
 各マテリアルの説明には、次のような1つの反射マップステートメントを含めることができます。
カラーテクスチャファイルまたはカラープロシージャルテクスチャファイルを次のように指定します。
環境を表します。材料自体に割り当てる必要があります
3以上の照明モデル。
 
 .mtlファイルのリフレクションマップステートメントは、ローカルを定義します
反射マップ。つまり、シーン内のオブジェクトに割り当てられた各マテリアル
個別の内省マップを持つことができます。 PreViewでは、
グローバルリフレクションをオブジェクトにマップし、方向を指定します
反射マップ。反射マップを回転させると効果が生まれます
のct
オブジェクトの動きとは無関係に反射をアニメートします。交換するとき
ローカル反射マップを使用したグローバル反射マップ、ローカル
反射マップは、グローバル反射マップの変換を継承します。
 
 構文
 
 次の構文ステートメントは、リフレクションマップステートメントについて説明しています。
.mtlファイルの場合。
 
 refl -type sphere -options -argsfilename
 
 に反射をキャストする無限に大きな球を指定します
材料。 1つのテクスチャファイルを指定します。
 
 「ファイル名」は、カラーテクスチャファイル、カラープロシージャルテクスチャファイル、または
シェイプの内側にマッピングされる画像ファイル。
 
 refl -type cube_side -options -argsfilenames
 
 に反射をキャストする無限に大きな球を指定します
材料。 「トップ」に異なるテクスチャファイルを指定できます。
「下」、「前」、「後」、「左」、「右」の場合、次のようになります。
ステートメント：
 
 reflタイプcube_top
 reflタイプcube_bottom
 reflタイプcube_front
 refl -type cube_back
 refl-typecube_left
 refl-typecube_right
 
 「ファイル名」は、カラーテクスチャファイル、カラープロシージャルテクスチャです。
ファイル、またはシェイプの内側にマッピングされる画像ファイル。
 
 球と立方体の「refl」ステートメントは、単独で使用することも、
 次のオプションの任意の組み合わせ。オプションとその
引数は「refl」と「filename」の間に挿入されます。
 
 -blendu on |オフ
 -blendv on |オフ
 -ccオン|オフ
 -クランプオン|オフ
 -mmベースゲイン
 -o u v w
 -s u v w
 -t u v w
 -texres値
 
 リフレクションマップステートメントのオプションについては、
18ページの「テクスチャマップステートメントのオプション」。
 
 
 例
 
 1ネオングリーン
 
 鮮やかなグリーンの素材です。オブジェクトに適用すると、
シーン内の照明に関係なく、明るい緑色のままです。
 
 newmtl neon_green
 Kd 0.0000 1.0000 0.0000
 illum 0
 
 2フラットグリーン
 
 これは平らな緑色の素材です。
 
 newmtl flat_green
 Ka 0.0000 1.0000 0.0000
 Kd 0.0000 1.0000 0.0000
 illum 1
 
 3溶けた緑
 
 これは平らな緑色の部分的に溶解した材料です。
 
 newmtl diss_green
 Ka 0.0000 1.0000 0.0000
 Kd 0.0000 1.0000 0.0000
 d 0.8000
 illum 1
 
 4シャイニーグリーン
 
 ピカピカのグリーン素材です。オブジェクトに適用すると、
白い鏡面ハイライト。
 
 newmtl shiny_green
 Ka 0.0000 1.0000 0.0000
 Kd 0.0000 1.0000 0.0000
 Ks 1.0000 1.0000 1.0000
 Ns 200.0000
 illum 1
 
 5グリーンミラー
 
 これは反射性の緑色の素材です。オブジェクトに適用すると、
同じシーン内の他のオブジェクトを反映します。
 
 newmtl green_mirror
 Ka 0.0000 1.0000 0.0000
 Kd 0.0000 1.0000 0.0000
 Ks 0.0000 1.0000 0.0000
 Ns 200.0000
 illum 3
 
 6偽のフロントガラス
 
 この材料はガラス表面に近似しています。ほぼ完全ですか
透明ですが、シーン内の他のオブジェクトの反射を示します。それ
マテリアルを通して見たオブジェクトのイメージを歪めることはありません。
 
 newmtl fake_windsh
 Ka 0.0000 0.0000 0.0000
 Kd 0.0000 0.0000 0.0000
 Ks 0.9000 0.9000 0.9000
 d 0.1000
 Ns 200
 illum 4
 
 7フレネルブルー
 
 この材料は、フレネル反射として知られる効果を示します。いつ
オブジェクトに適用すると、オブジェクトの場所に白いフリンジが表示される場合があります
表面は視線角度で見られます。
 
 newmtlfresnel_blu
 Ka 0.0000 0.0000 0.0000
 Kd 0.0000 0.0000 0.0000
 Ks 0.6180 0.8760 0.1430
 Ns 200
 illum 5
 
 8本物のフロントガラス
 
 この素材はガラスの表面を正確に表現しています。それは
それを通して見られるオブジェクトを色付けします。フィルタリングはそれに応じて行われます
素材の透過色に。素材も歪む
光学濃度に応じたオブジェクトの画像。注意してください
材料は溶解せず、その周囲、拡散、鏡面反射
反射色は黒に設定されています。透過色のみ
黒以外です。
 
 newmtl real_windsh
 Ka 0.0000 0.0000 0.0000
 Kd 0.0000 0.0000 0.0000
 Ks 0.0000 0.0000 0.0000
 Tf 1.0000 1.0000 1.0000
 Ns 200
 Ni 1.2000
 illum 6
 
 9フレネルフロントガラス
 
 この資料は、例7と8の効果を組み合わせたものです。
 
 newmtlfresnel_win
 Ka 0.0000 0.0000 1.0000
 Kd 0.0000 0.0000 1.0000
 Ks 0.6180 0.8760 0.1430
 Tf 1.0000 1.0000 1.0000
 Ns 200
 Ni 1.2000
 illum 7
 
 10スズ
 
 この材料は、
実際のスズ片。これらのサンプルは、別の.rflファイルに保存されます
それは資料の中で名前で呼ばれています。スペクトルサンプルファイル
（.rfl）は、RGBの代わりにあらゆるタイプの素材で使用できます
値。
 
 newmtlスズ
 Kaスペクトルtin.rfl
 Kdスペクトルtin.rfl
 Ksスペクトルtin.rfl
 Ns 200
 illum 3
 
 11パインウッド
 
 このマテリアルには、松のパターンのテクスチャマップが含まれています。素材
テクスチャの本来の色を維持するために、colorは「ident」に設定されます。いつ
オブジェクトに適用されると、このテクスチャマップはアンビエントとアンビエントにのみ影響します。
そのオブジェクトの表面の拡散領域。
 
 テクスチャの色情報は、別の.mpcファイルに保存されます
これは、資料では「pine.mpc」という名前で呼ばれています。使用する場合
アンビエントとdiffuの異なる.mpcファイル
それ自体、あなたは非現実的になります
結果。
 
 newmtl pine_wood
 Kaスペクトルident.rfl1
 Kdスペクトルident.rfl1
 illum 1
 map_Ka pine.mpc
 map_Kd pine.mpc
 
 12バンピーレザー
 
 この素材には、革模様のテクスチャマップが含まれています。ザ・
テクスチャの本来の色を維持するために、マテリアルの色は「同一」に設定されます。
オブジェクトに適用すると、オブジェクトの色の両方に影響します
表面とその見かけのでこぼこ。
 
 テクスチャの色情報は、別の.mpcファイルに保存されます
これは、資料では「brown.mpc」という名前で呼ばれています。バンプ
情報は、で参照される別の.mpbファイルに保存されます。
「leath.mpb」という名前の素材。 -bmオプションは、
革の隆起の見かけの高さ。
 
 newmtlbumpy_leath
 Kaスペクトルident.rfl1
 Kdスペクトルident.rfl1
 Ksスペクトルident.rfl1
 illum 2
 map_Ka brown.mpc
 map_Kd brown.mpc
 map_Ks brown.mpc
 バンプ-bm2.000 leath.mpb
 
 13つや消し窓
 
 このマテリアルには、不透明度を変更するために使用されるテクスチャマップが含まれています。
オブジェクトの表面。素材の色は「同一」に設定され、
テクスチャのトゥルーカラー。オブジェクトに適用すると、オブジェクトは次のようになります。
特定の領域では透明で、他の領域では不透明です。
 
 不透明領域と透明領域の間の変化は、によって制御されます。
で参照される別の.mpsファイルに格納されているスカラー情報
「window.mps」という名前の素材。 「-mm」オプションは、
不透明度の範囲をシフトおよび圧縮します。
 
 newmtl frost_wind
 Ka 0.2 0.2 0.2
 Kd 0.6 0.6 0.6
 Ks 0.1 0.1 0.1
 d 1
 Ns 200
 illum 2
 map_d -mm 0.200 0.800 window.mps
 
 14シフトされたロゴ
 
 このマテリアルには、テクスチャがどのようになっているのかを示すテクスチャマップが含まれています
原点は左右（「u」方向）または上下（「v」）にシフトできます。
方向）。素材の色は「同一」に設定され、
テクスチャのトゥルーカラー。
 
 この例では、ロゴの元の画像は中心からずれています。
左。これを補正するために、テクスチャの原点が右にシフトバックされます
（正の「u」方向）「-o」オプションを使用して原点を変更します。
 
 Kaスペクトルident.rfl1
 Kdスペクトルident.rfl1
 Ksスペクトルident.rfl1
 illum 2
 map_Ka -o 0.200 0.000 0.000 logo.mpc
 map_Kd -o 0.200 0.000 0.000 Logo.mpc
 map_Ks -o 0.200 0.000 0.000 Logo.mpc
 
 15スケーリングされたロゴ
 
 このマテリアルには、テクスチャがどのようになっているのかを示すテクスチャマップが含まれています
左または右（「u」方向）または上下（「v」方向）にスケーリング
方向）。素材の色は「同一」に設定され、
テクスチャのトゥルーカラー。
 
 この例では、ロゴの元の画像が小さすぎます。に
補正すると、テクスチャはわずかに右にスケーリングされます（正の場合）
「-s」を使用して「u」方向）および上（正の「v」方向）
スケールを変更するオプション。
 
 Kaスペクトルident.rfl1
 Kdスペクトルident.rfl1
 Ksスペクトルident.rfl1
 illum 2
 map_Ka -s 1.200 1.200 0.000 Logo.mpc
 map_Kd -s 1.200 1.200 0.000logo.mpc
 map_Ks -s 1.200 1.200 0.000logo.mpc
 
 球面反射マップを備えた16クローム
 
 これは、ローカル反射マップの一般的な使用法を示しています（
材料）。
 
 この素材は反射率が高く、拡散や周囲の音がありません
貢献。その反射マップは、銀色の縞模様のある画像です。
反射として見たときにクロムの外観を生成します。
 
 ka 0 0 0
 kd 0 0 0
 ks .7 .7 .7
 illum 1
 reflタイプの球体chrome.rla
 
 
 イルミネーションモデル
 
 次のリストは、で使用される用語とベクトルを定義します。
照明モデルの方程式：
 
 用語の定義
 
 フォートフレネル反射率
 フォートフレネル透過率
 Iaアンビエントライト
 私は強度を光します
 反射方向からのIr強度
 （反射マップおよび/またはレイトレーシング）
 送信方向からの強度
 Ka周囲反射率
 Kd拡散反射
 Ks鏡面反射
 Tf透過フィルター
 
 ベクトル定義
 
 LとVの間のH単位ベクトル二等分線
 L単位の光ベクトル
 N単位表面法線
 Vユニットビューベクトル
 
 照明モデルは次のとおりです。
 
 0これは一定色の照明モデルです。色は
材料に指定されたKd。式は次のとおりです。
 
   色= Kd
 
 1これはランバートシェーディングを使用した拡散照明モデルです。ザ・
色には、周囲定数項と拡散シェーディング項が含まれます。
各光源。式は
 
   色= KaIa + Kd {SUM j = 1..ls、（N * Lj）Ij}
 
 2これは、ランバートを使用した拡散反射および鏡面照明モデルです。
シェーディングとブリンによるフォンの鏡面照明の解釈
モデル（BLIN77）。色には周囲定数項が含まれ、
各光源の拡散および鏡面シェーディング項。式
は：
 
   色= KaIa
 + Kd {SUM j = 1..ls、（N * Lj）Ij}
 + Ks {SUM j = 1..ls、（（H * Hj）^ Ns）Ij}
 
 3これは、反射を伴う拡散反射および鏡面照明モデルです。
ランバートシェーディングを使用して、フォンの鏡面反射のブリンの解釈
照明モデル（BLIN77）、およびそれに類似した反射項
Whittedのイルミネーションモデル（WHIT80）。カラー株式会社
アンビエントを誘う
各ライトの定数項と拡散および鏡面シェーディング項
ソース。式は次のとおりです。
 
   色= KaIa
 + Kd {SUM j = 1..ls、（N * Lj）Ij}
 + Ks（{SUM j = 1..ls、（（H * Hj）^ Ns）Ij} + Ir）
 
   Ir =（反射マップの強度）+（光線追跡）
 
 4ガラスのシミュレーションに使用される拡散および鏡面照明モデル
イルミネーションモデル3と同じです。非常に低いディゾルブを使用する場合
（約0.1）、光または反射からの鏡面ハイライト
知覚できなくなります。
 
 ガラスをシミュレートするには、ほぼ透明なオブジェクトが必要です。
強いハイライトを反映しています。の平均強度の最大値
ハイライトと反射光は、ディゾルブファクターを調整するために使用されます。
式は次のとおりです。
 
   色= KaIa
 + Kd {SUM j = 1..ls、（N * Lj）Ij}
 + Ks（{SUM j = 1..ls、（（H * Hj）^ Ns）Ij} + Ir）
 
 5これは、次のような拡散反射および鏡面反射モデルです。
フレネル効果による反射が
方程式に導入されました。フレネル反射は光から生じます
かすめ角または視射角で拡散面を打つ。軽いとき
かすめ角で反射し、Ks値はすべての色で1.0に近づきます
サンプル。式は次のとおりです。
 
   色= KaIa
 + Kd {SUM j = 1..ls、（N * Lj）Ij}
 + Ks（{SUM j = 1..ls、（（H * Hj）^ Ns）Ij Fr（Lj * Hj、Ks、Ns）Ij} +
Fr（N * V、Ks、Ns）Ir}）
 
 
 6これは、それに類似した拡散および鏡面照明モデルです。
Whitted（WHIT80）によって使用され、光線が表面を介して屈折できるようにします。
屈折量は、光学密度（Ni）に基づいています。ザ・
屈折する光の強度は、1.0からKsの値を引いたものに等しくなります。
結果として生じる光は、Tf（透過フィルター）によってフィルター処理されます。
オブジェクトを通過します。式は次のとおりです。
 
   色= KaIa
 + Kd {SUM j = 1..ls、（N * Lj）Ij}
 + Ks（{SUM j = 1..ls、（（H * Hj）^ Ns）Ij} + Ir）
 +（1.0-Ks）TfIt
 
 7この照明モデルは、照明モデル6と似ていますが、
フレネル効果による反射と透過は
方程式に導入されました。かすめ角では、より多くの光が反射されます
そして、より少ない光がオブジェクトを通して屈折します。式は次のとおりです。
 
   色= KaIa
 + Kd {SUM j = 1..ls、（N * Lj）Ij}
 + Ks（{SUM j = 1..ls、（（H * Hj）^ Ns）Ij Fr（Lj * Hj、Ks、Ns）Ij} +
Fr（N * V、Ks、Ns）Ir}）
 
 +（1.0-Kx）Ft（N * V、（1.0-Ks）、Ns）TfIt
 
 8この照明モデルは、照明モデル3に似ています。
レイトレーシング。式は次のとおりです。
 
   色= KaIa
 + Kd {SUM j = 1..ls、（N * Lj）Ij}
 + Ks（{SUM j = 1..ls、（（H * Hj）^ Ns）Ij} + Ir）
 
   Ir =（反射マップの強度）
 
 9この照明モデルは、照明モデル4に似ています。
レイトレーシング。式は次のとおりです。
 
 
   色= KaIa
 + Kd {SUM j = 1..ls、（N * Lj）Ij}
 + Ks（{SUM j = 1..ls、（（H * Hj）^ Ns）Ij} + Ir）
 
   Ir =（反射マップの強度）
 
 10このイルミネーションモデルは、目に見えないものに影を落とすために使用されます
表面。これは、コンピューターで生成された合成時に最も役立ちます
レンダリングされたオブジェクトからの影を可能にするため、実写への画像
ビデオで取得した画像の上に直接合成されます。方程式
シャドウマットの計算は次のように定式化されます。
 
 color =ピクセルカラー。シャドウマット素材のピクセルカラーは
常に黒。
 
 色=黒
 
 M =マットチャネル値。これは通常、画像チャネルです
サーフェス上のポイントの不透明度を表します。影を保存するには
画像のマットチャンネルでは、次のように計算されます。
 
 M = 1-W / P
 
 どこ：
 
 P =加重されていない合計。これは、各ライトのすべてのS値の合計です。
 
 P = S1 + S2 + S3 +....。
 
 W =加重和。これは、すべてのS値の合計であり、それぞれが
ライトの可視性係数（Q）：
 
 W =（S1 * Q1）+（S2 * Q2）+....。
 
 Q =可視性係数。これは特定の光の量です
旅行後、日陰になるポイントに到達する光源
ライトと上のポイントの間のすべてのシャドウオブジェクトを介して
表面。 Q = 0は、シェーディングするポイントに光が到達していないことを意味します。そうだった
シャドウオブジェクトによってブロックされ、シャドウをキャストします。 Q = 1は、
光を遮るものはなく、影もありませんでした。 0 <Q <1は、
光は部分的にブロックされたオブジェクトによって部分的にブロックされました
解散。
 
 S =合計輝度。これはスペクトルサンプルの合計です
特定の光の強度。サンプルは可変ですが、
デフォルトは3です。
 
 S = samp1 + samp2 + samp3。